

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  <title>算法第二次作业及解析 - Hexo</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/github-gist.min.css" />
  

  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_6peoq002giu.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.1.1"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Fluid</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                Archives
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                Categories
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tags
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                About
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner intro-2" id="background" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container page-header text-center fade-in-up">
            <span class="h2" id="subtitle">
              
            </span>

            
              
  <div class="mt-3 post-meta">
    <i class="iconfont icon-date-fill" aria-hidden="true"></i>
    <time datetime="2018-10-15 18:39" pubdate>
      October 15, 2018 pm
    </time>
  </div>


<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      2.6k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      40
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto" id="post">
            <!-- SEO header -->
            <h1 style="display: none">算法第二次作业及解析</h1>
            
            <div class="markdown-body" id="post-body">
              <h1 id="算法分析题"><a href="#算法分析题" class="headerlink" title="算法分析题"></a>算法分析题</h1><h2 id="下面的-7-个算法与本章中的二分搜索算法-BinarySearch-略有不同。请判断这-7-个算法的正确性。如果算法不正确，请说明产生错误的原因。如果算法正确，请给出算法的正确性证明。2-2"><a href="#下面的-7-个算法与本章中的二分搜索算法-BinarySearch-略有不同。请判断这-7-个算法的正确性。如果算法不正确，请说明产生错误的原因。如果算法正确，请给出算法的正确性证明。2-2" class="headerlink" title="下面的 7 个算法与本章中的二分搜索算法 BinarySearch 略有不同。请判断这 7 个算法的正确性。如果算法不正确，请说明产生错误的原因。如果算法正确，请给出算法的正确性证明。2-2"></a>下面的 7 个算法与本章中的二分搜索算法 BinarySearch 略有不同。请判断这 7 个算法的正确性。如果算法不正确，请说明产生错误的原因。如果算法正确，请给出算法的正确性证明。2-2</h2><h3 id="（1）"><a href="#（1）" class="headerlink" title="（1）"></a>（1）</h3><p>&nbsp;&nbsp;不正确，数组左右游标移动不正确，可能导致死循环。如数组 1 2 3 4，当 x = 4 时，将陷入死循环。</p>
<h3 id="（2）"><a href="#（2）" class="headerlink" title="（2）"></a>（2）</h3><p>&nbsp;&nbsp;不正确，数组右游标将导致 x = a[n-1] 时无法获取正确结果。</p>
<h3 id="（3）"><a href="#（3）" class="headerlink" title="（3）"></a>（3）</h3><p>&nbsp;&nbsp;不正确，数组右游标将导致 x = a[n-1] 时无法获取正确结果。</p>
<h3 id="（4）"><a href="#（4）" class="headerlink" title="（4）"></a>（4）</h3><p>&nbsp;&nbsp;不正确，数组左右游标移动不正确，可能导致死循环。如数组 1 2 3 4，当 x = 4 时，将陷入死循环。</p>
<h3 id="（5）"><a href="#（5）" class="headerlink" title="（5）"></a>（5）</h3><p>&nbsp;&nbsp;正确，比如在数组 1 2 3 4 4 中，当 x 取值为 1 或 3 或 4 或 5 这几个特殊位置时，算法工作正确，均可以返回正确的下标，且存在重复值时返回重复值最右侧的下标。</p>
<h3 id="（6）"><a href="#（6）" class="headerlink" title="（6）"></a>（6）</h3><p>&nbsp;&nbsp;不正确，数组左右游标移动不正确，在数组有重复元素时，无法返回正确结果。</p>
<h3 id="（7）"><a href="#（7）" class="headerlink" title="（7）"></a>（7）</h3><p>&nbsp;&nbsp;不正确，数组左右游标移动不正确，可能导致死循环。如数组 1 2 3 4，当 x = 1 或 2 时，将陷入死循环。</p>
<h2 id="对所给元素存储于数组中和存储于链表中两种情形，写出自然合并排序算法-2-11"><a href="#对所给元素存储于数组中和存储于链表中两种情形，写出自然合并排序算法-2-11" class="headerlink" title="对所给元素存储于数组中和存储于链表中两种情形，写出自然合并排序算法  2-11"></a>对所给元素存储于数组中和存储于链表中两种情形，写出自然合并排序算法  2-11</h2><h3 id="存储于数组中"><a href="#存储于数组中" class="headerlink" title="存储于数组中"></a>存储于数组中</h3><pre><code class="hljs c++"><span class="hljs-comment">/**</span>
<span class="hljs-comment"> * 进行自然分组，并记录每个子串的起始坐标</span>
<span class="hljs-comment"> * @param source 分组元数据</span>
<span class="hljs-comment"> * @param record 记录子串起始坐标</span>
<span class="hljs-comment"> * @param len 分组元数据个数</span>
<span class="hljs-comment"> * @param count 自然分组个数(子串起始坐标个数)</span>
<span class="hljs-comment"> */</span>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Type</span>&gt;</span>
<span class="hljs-class"><span class="hljs-title">void</span> <span class="hljs-title">NaturalGrouping</span>(<span class="hljs-title">Type</span> <span class="hljs-title">source</span>[], <span class="hljs-title">Type</span> <span class="hljs-title">record</span>[], <span class="hljs-title">int</span> <span class="hljs-title">len</span>, <span class="hljs-title">int</span> &amp;<span class="hljs-title">count</span>) &#123;</span>
    <span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>;
    record[j++] = <span class="hljs-number">0</span>;<span class="hljs-comment">//第一个子串起始坐标为 0</span>
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len - <span class="hljs-number">1</span>; i++) &#123;
        <span class="hljs-keyword">if</span>(source[i + <span class="hljs-number">1</span>] &lt; source[i]) &#123;
            record[j++] = i + <span class="hljs-number">1</span>;
        &#125;
    &#125;
    count = j;
&#125;

<span class="hljs-comment">/**</span>
<span class="hljs-comment"> * 合并c[l:m]和c[m+1:r]到d[1:r]</span>
<span class="hljs-comment"> * */</span>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Type</span>&gt;</span>
<span class="hljs-class"><span class="hljs-title">void</span> <span class="hljs-title">Merge</span>(<span class="hljs-title">Type</span> <span class="hljs-title">c</span>[], <span class="hljs-title">Type</span> <span class="hljs-title">d</span>[], <span class="hljs-title">int</span> <span class="hljs-title">l</span>, <span class="hljs-title">int</span> <span class="hljs-title">m</span>, <span class="hljs-title">int</span> <span class="hljs-title">r</span>) &#123;</span>
    <span class="hljs-keyword">int</span> i = l, j = m + <span class="hljs-number">1</span>, k = l;
    <span class="hljs-keyword">while</span> (i &lt;= m &amp;&amp; j &lt;= r) &#123;
        <span class="hljs-keyword">if</span> (c[i] &lt;= c[j]) &#123;
            d[k++] = c[i++];
        &#125; <span class="hljs-keyword">else</span> &#123;
            d[k++] = c[j++];
        &#125;
    &#125;
    <span class="hljs-keyword">if</span> (i &gt; m) &#123;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> q = j; q &lt;= r; q++) &#123;
            d[k++] = c[q];
        &#125;
    &#125; <span class="hljs-keyword">else</span> &#123;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> q = i; q &lt;= m; q++) &#123;
            d[k++] = c[q];
        &#125;
    &#125;
&#125;

<span class="hljs-comment">/**</span>
<span class="hljs-comment"> * @param num 当前子数组个数</span>
<span class="hljs-comment"> * @param count 子数组总个数</span>
<span class="hljs-comment"> * */</span>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Type</span>&gt;</span>
<span class="hljs-class"><span class="hljs-title">void</span> <span class="hljs-title">MergePass</span>(<span class="hljs-title">Type</span> <span class="hljs-title">x</span>[], <span class="hljs-title">Type</span> <span class="hljs-title">y</span>[], <span class="hljs-title">Type</span> <span class="hljs-title">t</span>[], <span class="hljs-title">int</span> <span class="hljs-title">num</span>, <span class="hljs-title">int</span> <span class="hljs-title">len</span>, <span class="hljs-title">int</span> <span class="hljs-title">count</span>) &#123;</span>
    <span class="hljs-comment">// 合并自然分组后相邻的子数组</span>
    <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span>(i &lt;= count - <span class="hljs-number">2</span> * num) &#123;
        <span class="hljs-comment">// 当自然分组后的子数组个数为偶数时, r = n, 表示恰好两两合并</span>
        <span class="hljs-keyword">int</span> r = ((i + <span class="hljs-number">2</span> * num) &lt; count) ? t[i + <span class="hljs-number">2</span> * num] : len;
        Merge(x, y, t[i], t[i + num] - <span class="hljs-number">1</span>, r - <span class="hljs-number">1</span>);
        i = i + <span class="hljs-number">2</span> * num;
    &#125;

    <span class="hljs-keyword">if</span>(i + num &lt; count) &#123;
        Merge(x, y, t[i], t[i + num] - <span class="hljs-number">1</span>, len - <span class="hljs-number">1</span>);
    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i &lt; count) &#123;
        <span class="hljs-comment">// 剩余元素直接复制</span>
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = t[i]; j &lt;= len - <span class="hljs-number">1</span>; j++) &#123;
            y[j] = x[j];
        &#125;
    &#125;
&#125;

<span class="hljs-comment">/**</span>
<span class="hljs-comment"> * @param source 分组元数据</span>
<span class="hljs-comment"> * @param record 子串起始坐标数据</span>
<span class="hljs-comment"> * @param len 分组元数据个数</span>
<span class="hljs-comment"> * @param count 自然分组个数</span>
<span class="hljs-comment"> * */</span>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Type</span>&gt;</span>
<span class="hljs-class"><span class="hljs-title">void</span> <span class="hljs-title">MergeSort</span>(<span class="hljs-title">Type</span> <span class="hljs-title">source</span>[], <span class="hljs-title">Type</span> <span class="hljs-title">record</span>[], <span class="hljs-title">int</span> <span class="hljs-title">len</span>, <span class="hljs-title">int</span> <span class="hljs-title">count</span>) &#123;</span>
    Type *anotherSource = <span class="hljs-keyword">new</span> Type[len];
    <span class="hljs-keyword">int</span> size = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span> (size &lt; count) &#123;
        <span class="hljs-comment">// 合并到数组 anotherSource</span>
        MergePass(source, anotherSource, record, size, len, count);
        size += size;
        <span class="hljs-comment">// 合并到数组 source</span>
        MergePass(anotherSource, source, record, size, len, count);
        size += size;
    &#125;

&#125;</code></pre>

<h3 id="存储于链表中"><a href="#存储于链表中" class="headerlink" title="存储于链表中"></a>存储于链表中</h3><pre><code class="hljs c++"><span class="hljs-comment">/**</span>
<span class="hljs-comment"> * 链表节点结构体</span>
<span class="hljs-comment"> */</span>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">link</span> &#123;</span>
    link(T value, link* next = <span class="hljs-literal">nullptr</span>) : next(next), value(value) &#123;&#125;
    link *next;
    T value;
&#125;;
<span class="hljs-comment">/**</span>
<span class="hljs-comment"> * 合并链表</span>
<span class="hljs-comment"> */</span>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> Compare&gt;
<span class="hljs-function">link&lt;T&gt; *<span class="hljs-title">merge</span><span class="hljs-params">(link&lt;T&gt; *list1, link&lt;T&gt; *list2, Compare compare)</span> </span>&#123;
    link&lt;T&gt; *merged = <span class="hljs-literal">nullptr</span>, **mergedEnd = &amp;merged;
    <span class="hljs-keyword">while</span> (list1 &amp;&amp; list2) &#123;
        <span class="hljs-keyword">if</span> (compare(list1 -&gt; value, list2 -&gt; value)) &#123;
            *mergedEnd = list1;
            list1 = list1 -&gt; next;
        &#125; <span class="hljs-keyword">else</span> &#123;
            *mergedEnd = list2;
            list2 = list2 -&gt; next;
        &#125;
        mergedEnd = &amp;((*mergedEnd) -&gt; next);
    &#125;
    <span class="hljs-keyword">if</span> (list1) &#123;
        *mergedEnd = list1;
    &#125; <span class="hljs-keyword">else</span> &#123;
        *mergedEnd = list2;
    &#125;
    <span class="hljs-keyword">return</span> merged;
&#125;

<span class="hljs-comment">/**</span>
<span class="hljs-comment"> * 设置默认排序规则</span>
<span class="hljs-comment"> * 增序-less_equal&lt;T&gt;()</span>
<span class="hljs-comment"> * 降序-greater_equal&lt;T&gt;()</span>
<span class="hljs-comment"> */</span>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-function">link&lt;T&gt; *<span class="hljs-title">NaturalMergeSort</span> <span class="hljs-params">(link&lt;T&gt; *<span class="hljs-built_in">list</span>)</span> </span>&#123;
    <span class="hljs-keyword">return</span> NaturalMergeSort(<span class="hljs-built_in">list</span>, less_equal&lt;T&gt;());
&#125;


<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> Compare&gt;
<span class="hljs-function">link&lt;T&gt; *<span class="hljs-title">NaturalMergeSort</span><span class="hljs-params">(link&lt;T&gt; *<span class="hljs-built_in">list</span>, Compare compare)</span> </span>&#123;
    <span class="hljs-built_in">vector</span>&lt;link&lt;T&gt;*&gt; <span class="hljs-built_in">stack</span>;
    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">list</span>) &#123;
        link&lt;T&gt; *run = <span class="hljs-built_in">list</span>, *runEnd = run;
        <span class="hljs-built_in">list</span> = <span class="hljs-built_in">list</span> -&gt; next;
        run -&gt; next = <span class="hljs-literal">nullptr</span>;
        <span class="hljs-comment">//自然分组</span>
        <span class="hljs-keyword">while</span> (<span class="hljs-built_in">list</span>) &#123;
            <span class="hljs-keyword">if</span> (compare(runEnd -&gt; value, <span class="hljs-built_in">list</span> -&gt; value)) &#123;
                runEnd -&gt; next = <span class="hljs-built_in">list</span>;
                runEnd = <span class="hljs-built_in">list</span>;
                <span class="hljs-built_in">list</span> = <span class="hljs-built_in">list</span> -&gt; next;
                runEnd -&gt; next = <span class="hljs-literal">nullptr</span>;
            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!compare(run -&gt; value, <span class="hljs-built_in">list</span> -&gt; value)) &#123;
                link&lt;T&gt; *tmp = <span class="hljs-built_in">list</span>;
                <span class="hljs-built_in">list</span> = <span class="hljs-built_in">list</span> -&gt; next;
                tmp -&gt; next = run;
                run = tmp;
            &#125; <span class="hljs-keyword">else</span> &#123;
                <span class="hljs-keyword">break</span>;
            &#125;
        &#125;

        <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (; i &lt; <span class="hljs-built_in">stack</span>.size(); ++i) &#123;
            <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">stack</span>[i])
                <span class="hljs-keyword">break</span>;
            run = merge(run, <span class="hljs-built_in">stack</span>[i], compare);
            <span class="hljs-built_in">stack</span>[i] = <span class="hljs-literal">nullptr</span>;
        &#125;
        <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-built_in">stack</span>.size()) &#123;
            <span class="hljs-built_in">stack</span>[i] = run;
        &#125; <span class="hljs-keyword">else</span> &#123;
            <span class="hljs-built_in">stack</span>.push_back(run);
        &#125;
    &#125;
    <span class="hljs-comment">//合并链表</span>
    <span class="hljs-built_in">list</span> = <span class="hljs-literal">nullptr</span>;
    <span class="hljs-keyword">for</span> (link&lt;T&gt; *tmp : <span class="hljs-built_in">stack</span>) &#123;
        <span class="hljs-built_in">list</span> = merge(<span class="hljs-built_in">list</span>, tmp, compare);
    &#125;
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">list</span>;
&#125;</code></pre>

<h2 id="如何修改-QuickSort-算法才能使其将输入元素按非增序排序？2-13"><a href="#如何修改-QuickSort-算法才能使其将输入元素按非增序排序？2-13" class="headerlink" title="如何修改 QuickSort 算法才能使其将输入元素按非增序排序？2-13"></a>如何修改 QuickSort 算法才能使其将输入元素按非增序排序？2-13</h2><p>将 QuickSort 调用的  Partition() 函数中的：</p>
<pre><code class="hljs c++"><span class="hljs-keyword">while</span> (a[i++] &lt; x &amp;&amp; i &lt; r);
<span class="hljs-keyword">while</span> (a[j--] &gt; x);</code></pre>

<p>&nbsp;&nbsp;改为：</p>
<pre><code class="hljs c++"><span class="hljs-keyword">while</span> (a[i++] &gt; x &amp;&amp; i &lt; r);
<span class="hljs-keyword">while</span> (a[j--] &lt; x);</code></pre>

<p>&nbsp;&nbsp;即可实现降序排序。</p>
<h1 id="算法实现题"><a href="#算法实现题" class="headerlink" title="算法实现题"></a>算法实现题</h1><h2 id="有重复元素的排列问题。2-5"><a href="#有重复元素的排列问题。2-5" class="headerlink" title="有重复元素的排列问题。2-5"></a>有重复元素的排列问题。2-5</h2><p><strong>问题描述：</strong> 设 $R = {r_1,r_2,r_3,…,r_n}$ 是要进行排列的 n 个元素。其中 $r_1, r_2, r_3,…,r_n$ 可能相同。试设计一个算法，列出 R 的所有不同排列。</p>
<p><strong>算法设计：</strong> 给定 n 及待排列的 n 个元素。计算出这 n 个元素的所有不同排列。</p>
<p><strong>数据输入：</strong> 由文件 input.txt 提供输入数据。文件的第一行时元素个数 n，$1 \leq n \leq 500$。接下来的 1 行是待排列的 n 个元素。</p>
<p><strong>结果输出：</strong> 将计算出的 n 个元素的所有不同排列输出到文件 output.txt。文件最后 1 行中的数是排列总数。</p>
<p><strong>示例：</strong></p>
<table>
<thead>
<tr>
<th align="center">输入文件示例</th>
<th align="center">输出文件示例</th>
</tr>
</thead>
<tbody><tr>
<td align="center">input.txt</td>
<td align="center">output.txt</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">aacc</td>
</tr>
<tr>
<td align="center">aacc</td>
<td align="center">acac</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">acca</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">caac</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">caca</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">ccaa</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">6</td>
</tr>
</tbody></table>
<h3 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h3><ul>
<li>全排列是第一个元素起，每个元素分别与它后面的元素交换位置。</li>
<li>有重复元素全排列，需要在进行变换时，对变换结果判定结果的唯一性。</li>
<li>全排列中去掉重复的规则：从第一个元素起每个元素分别与它后面非重复出现的元素交换。即第 i 个元素与第 j 个元素交换时，要求 [i, j) 中没有与第 j 个元素相等的元素。</li>
</ul>
<h3 id="算法实现"><a href="#算法实现" class="headerlink" title="算法实现"></a>算法实现</h3><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;fstream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span>

<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;
<span class="hljs-keyword">int</span> count = <span class="hljs-number">0</span>;

<span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Type</span>&gt;</span>
<span class="hljs-class"><span class="hljs-title">void</span> <span class="hljs-title">ReadFile</span>(<span class="hljs-title">int</span> &amp;<span class="hljs-title">n</span>, <span class="hljs-title">Type</span> <span class="hljs-title">list</span>[]) &#123;</span>
    ifstream in;
    in.open(<span class="hljs-string">&quot;../input.txt&quot;</span>);
    <span class="hljs-keyword">int</span> line = <span class="hljs-number">1</span>;<span class="hljs-comment">//行号标记</span>
    <span class="hljs-built_in">string</span> s;<span class="hljs-comment">//承载读取的每一行内容</span>
    <span class="hljs-keyword">while</span> (getline(in, s)) &#123;
        <span class="hljs-keyword">if</span> (line == <span class="hljs-number">1</span>) &#123;
            <span class="hljs-function"><span class="hljs-built_in">istringstream</span> <span class="hljs-title">lineStr</span><span class="hljs-params">(s)</span></span>;
            lineStr &gt;&gt; n;<span class="hljs-comment">//将字符转为 int 值</span>
            line ++;
        &#125; <span class="hljs-keyword">else</span> &#123;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i) &#123;
                <span class="hljs-built_in">list</span>[i] = s[i];
            &#125;
        &#125;
    &#125;
    in.close();
&#125;

<span class="hljs-comment">/**</span>
<span class="hljs-comment"> * 通过引用交换元素</span>
<span class="hljs-comment"> */</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Swap</span><span class="hljs-params">(<span class="hljs-keyword">char</span> &amp;a, <span class="hljs-keyword">char</span> &amp;b)</span> </span>&#123;
    <span class="hljs-keyword">char</span> temp = a;
    a = b;
    b = temp;
&#125;

<span class="hljs-comment">/**</span>
<span class="hljs-comment"> * 寻找 [start, end) 之间是否存在与 end 代表相同的元素</span>
<span class="hljs-comment"> */</span>
 <span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Type</span>&gt;</span>
<span class="hljs-class"><span class="hljs-title">bool</span> <span class="hljs-title">FindSameElement</span>(<span class="hljs-title">Type</span> <span class="hljs-title">list</span>[], <span class="hljs-title">int</span> <span class="hljs-title">start</span>, <span class="hljs-title">int</span> <span class="hljs-title">end</span>) &#123;</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = start; i &lt; end; ++i) &#123;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">list</span>[end] == <span class="hljs-built_in">list</span>[i]) &#123;
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        &#125;
    &#125;
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
&#125;

<span class="hljs-comment">/**</span>
<span class="hljs-comment"> * 递归全排列，并将排列写入文件</span>
<span class="hljs-comment"> */</span>
 <span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Type</span>&gt;</span>
<span class="hljs-class"><span class="hljs-title">void</span> <span class="hljs-title">Perm</span>(<span class="hljs-title">Type</span> <span class="hljs-title">list</span>[], <span class="hljs-title">int</span> <span class="hljs-title">start</span>, <span class="hljs-title">int</span> <span class="hljs-title">end</span>, <span class="hljs-title">ofstream</span> &amp;<span class="hljs-title">out</span>) &#123;</span>
    <span class="hljs-keyword">if</span> (start == end) &#123;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; end; ++i) &#123;
            out&lt;&lt;<span class="hljs-built_in">list</span>[i];
        &#125;
        out&lt;&lt;<span class="hljs-built_in">endl</span>;
        count ++;
    &#125; <span class="hljs-keyword">else</span> &#123;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = start; i &lt; end; ++i) &#123;
            <span class="hljs-keyword">if</span> (FindSameElement(<span class="hljs-built_in">list</span>, start, i)) &#123;
                <span class="hljs-keyword">continue</span>;
            &#125;
            Swap(<span class="hljs-built_in">list</span>[start], <span class="hljs-built_in">list</span>[i]);
            Perm(<span class="hljs-built_in">list</span>, start+<span class="hljs-number">1</span>, end, out);
            Swap(<span class="hljs-built_in">list</span>[start], <span class="hljs-built_in">list</span>[i]);
        &#125;
    &#125;
&#125;


<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;
    <span class="hljs-keyword">int</span> n = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">char</span> <span class="hljs-built_in">list</span>[<span class="hljs-number">100</span>];

    ReadFile(n, <span class="hljs-built_in">list</span>);

    ofstream out;
    out.open(<span class="hljs-string">&quot;../output.txt&quot;</span>);
    Perm(<span class="hljs-built_in">list</span>, <span class="hljs-number">0</span>, n, out);
    out&lt;&lt;count;
    out.close();
    <span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">&quot;It works!&quot;</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;</code></pre>



<h2 id="集合划分问题。-2-8"><a href="#集合划分问题。-2-8" class="headerlink" title="集合划分问题。 2-8"></a>集合划分问题。 2-8</h2><p><strong>问题描述：</strong> n 个元素的集合 {1, 2, …, n} 可以划分为若干非空子集。例如，当 n = 4 时，集合 {1, 2, 3 , 4} 可以划分为 15 个不同的非空子集如下：</p>
<table>
<thead>
<tr>
<th align="center">{ {1}, {2}, {3}, {4} }</th>
<th align="center">{ {1, 3}, {2, 4} }</th>
</tr>
</thead>
<tbody><tr>
<td align="center">{ {1, 2}, {3}, {4} }</td>
<td align="center">{ {1, 4}, {2, 3} }</td>
</tr>
<tr>
<td align="center">{ {1, 3}, {2}, {4} }</td>
<td align="center">{ {1, 2, 3}, {4} }</td>
</tr>
<tr>
<td align="center">{ {1, 4}, {2}, {3} }</td>
<td align="center">{ {1, 2, 4}, {3} }</td>
</tr>
<tr>
<td align="center">{ {2, 3}, {1}, {4} }</td>
<td align="center">{ {1, 3, 4}, {2} }</td>
</tr>
<tr>
<td align="center">{ {2, 4}, {1}, {3} }</td>
<td align="center">{ {2, 3, 4}, {1} }</td>
</tr>
<tr>
<td align="center">{ {3, 4}, {1}, {2} }</td>
<td align="center">{ {1, 2, 3, 4} }</td>
</tr>
<tr>
<td align="center">{ {1, 2}, {3, 4} }</td>
<td align="center"></td>
</tr>
</tbody></table>
<p>&nbsp;&nbsp;其中，集合 { {1, 2, 3, 4} } 由一个子集组成；集合 { {1, 2}, {3, 4} } ，{ {1, 3}, {2, 4} }，{ {1, 4}, {2, 3} }，{ {1, 2, 3}, {4} }，{ {1, 2, 4}, {3} }，{ {1, 3, 4}, {2} }，{ {2, 3, 4}, {1} } 由两个子集组成；集合{ {1, 2}, {3}, {4} }，{ {1, 3}, {2}, {4} }，{ {1, 4}, {2}, {3} }，{ {2, 3}, {1}, {4} }，{ {2, 4}, {1}, {3} }，{ {3, 4}, {1}, {2} } 由三个子集组成；集合 { {1}, {2}, {3}, {4} } 由四个子集组成。</p>
<p><strong>算法设计：</strong> 给定正整数 n 和 m，计算出 n 个元素的集合 {1, 2, …, n} ，可以划分为多少个不同的由 m 个非空子集组成的集合。</p>
<p><strong>数据输入：</strong> 由文件 input.txt 提供输入数据。文件的第一行是元素个数 n 和非空子集数 m。</p>
<p><strong>结果输出：</strong> 将计算出的不同的由 m 个非空子集组成的集合数输出到文件 output.txt。</p>
<p><strong>示例：</strong></p>
<table>
<thead>
<tr>
<th align="center">输入文件示例</th>
<th align="center">输出文件示例</th>
</tr>
</thead>
<tbody><tr>
<td align="center">input.txt</td>
<td align="center">output.txt</td>
</tr>
<tr>
<td align="center">4 3</td>
<td align="center">6</td>
</tr>
</tbody></table>
<h3 id="解题思路-1"><a href="#解题思路-1" class="headerlink" title="解题思路"></a>解题思路</h3><p>&nbsp;&nbsp;把 n 个元素编号，对于最后那个 n 号元素，有两种情况:</p>
<ul>
<li>独立组成一个集合</li>
<li>与其他元素组成一个集合</li>
</ul>
<p>&nbsp;&nbsp;对于第一种情况，将前面 n-1 个元素分成 m-1 个集合，n 号元素单独组成集合。</p>
<p>&nbsp;&nbsp;对于第二种情况，将前面 n-1 个元素分成 m 个集合，n 号元素放入前 m 个集合中的一个。</p>
<p>&nbsp;&nbsp;划分总数为：</p>
<p>$$F(n,m) =F(n-1,m-1) + m \times F(n-1,m)$$</p>
<p> &nbsp;&nbsp;同时列举一下特殊情况：</p>
<ul>
<li><p>m = n 的情况，结果为 1。</p>
</li>
<li><p>m = 1 的情况，结果为 1。</p>
</li>
<li><p>n = 1 的情况，结果为 1。</p>
</li>
</ul>
<h3 id="算法实现-1"><a href="#算法实现-1" class="headerlink" title="算法实现"></a>算法实现</h3><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;fstream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sstream&gt;</span></span>

<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">SetPartition</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n ,<span class="hljs-keyword">int</span> m)</span> </span>&#123;
    <span class="hljs-keyword">if</span> ((m &gt; n) || (m == <span class="hljs-number">0</span>)) &#123;
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((m == <span class="hljs-number">1</span>) || (n == <span class="hljs-number">1</span>) || (m == n)) &#123;
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
    &#125; <span class="hljs-keyword">else</span> &#123;
        <span class="hljs-keyword">return</span> (SetPartition(n<span class="hljs-number">-1</span>, m<span class="hljs-number">-1</span>) + m * SetPartition(n<span class="hljs-number">-1</span>, m));
    &#125;
&#125;

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;
    <span class="hljs-keyword">int</span> n = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">int</span> m = <span class="hljs-number">0</span>;
    ifstream in;
    ofstream out;
    in.open(<span class="hljs-string">&quot;../input.txt&quot;</span>);
    <span class="hljs-built_in">string</span> str;
    <span class="hljs-keyword">while</span> (getline(in, str)) &#123;
        <span class="hljs-function"><span class="hljs-built_in">istringstream</span> <span class="hljs-title">line</span><span class="hljs-params">(str)</span></span>;
        line &gt;&gt; n &gt;&gt; m;
    &#125;
    in.close();
    out.open(<span class="hljs-string">&quot;../output.txt&quot;</span>);
    out &lt;&lt; SetPartition(n, m);
    out.close();
    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;It Works&quot;</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;

&#125;</code></pre>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Homework/">Homework</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E4%BD%9C%E4%B8%9A/">作业</a>
                    
                      <a class="hover-with-bg" href="/tags/%E7%AE%97%E6%B3%95/">算法</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2018/11/03/WPS-%E8%83%8C%E6%99%AF%E8%89%B2%E9%9A%8F%E4%B8%BB%E9%A2%98%E5%8F%98%E8%89%B2%E9%97%AE%E9%A2%98/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">WPS 背景色随主题变色问题</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2018/10/06/Android-Studio-dev-kvm-device-permission-denied/">
                        <span class="hidden-mobile">Android Studio: /dev/kvm device permission denied</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;TOC</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
    

    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>







  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: '#post-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "算法第二次作业及解析&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>




















</body>
</html>
